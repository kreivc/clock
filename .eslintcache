[{"C:\\Users\\asus\\Desktop\\React\\clock\\src\\index.js":"1","C:\\Users\\asus\\Desktop\\React\\clock\\src\\reportWebVitals.js":"2","C:\\Users\\asus\\Desktop\\React\\clock\\src\\App.js":"3","C:\\Users\\asus\\Desktop\\React\\clock\\src\\component\\loader.js":"4","C:\\Users\\asus\\Desktop\\React\\clock\\src\\component\\clock.js":"5"},{"size":288,"mtime":1611067926823,"results":"6","hashOfConfig":"7"},{"size":362,"mtime":499162500000,"results":"8","hashOfConfig":"7"},{"size":7760,"mtime":1614705959342,"results":"9","hashOfConfig":"7"},{"size":270,"mtime":1610695342664,"results":"10","hashOfConfig":"7"},{"size":2119,"mtime":1614702709003,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"1fttdp4",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"14"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"C:\\Users\\asus\\Desktop\\React\\clock\\src\\index.js",[],["25","26"],"C:\\Users\\asus\\Desktop\\React\\clock\\src\\reportWebVitals.js",[],"C:\\Users\\asus\\Desktop\\React\\clock\\src\\App.js",["27"],"import React, { Suspense, useRef, useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Loader from \"./component/loader\";\n\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\n\nimport Sound from \"./sound/AlarmForUKreivc.mp3\";\n\n// IMPORT END\n\nconst Clock = React.lazy(() => import(\"./component/clock\"));\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyCiWJXV_tTyzpJzwkPHceEEZCBYLfbAL0E\",\n  authDomain: \"clockreivc.firebaseapp.com\",\n  projectId: \"clockreivc\",\n  storageBucket: \"clockreivc.appspot.com\",\n  messagingSenderId: \"456791742942\",\n  appId: \"1:456791742942:web:15b8dd82170313cf9a254f\",\n  measurementId: \"G-ZDE84MVV3T\",\n});\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n// INITIALIZE END\n\nfunction App() {\n  const [user] = useAuthState(auth);\n  const date = new Date();\n  const [appClass, setAppClass] = useState(\"\");\n  function ClockFinal() {\n    if (date.getHours() < 12) {\n      setAppClass(\"AppPagi\");\n    } else if (date.getHours() >= 12 && date.getHours() < 18) {\n      setAppClass(\"AppSiang\");\n    } else {\n      setAppClass(\"AppMalam\");\n    }\n    return (\n      <div className={`${appClass}`} id=\"app\">\n        <Suspense fallback={<Loader />}>\n          <Clock />\n        </Suspense>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"landing\">\n      <header>\n        <SignOut />\n      </header>\n      <section>\n        {user ? (\n          <div>\n            <Alarm />\n            <ClockFinal />\n          </div>\n        ) : (\n          <div>\n            <SignIn />\n            <ClockFinal />\n          </div>\n        )}\n      </section>\n    </div>\n  );\n}\n\nfunction SignIn() {\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  };\n\n  return (\n    <>\n      <button className=\"sign\" onClick={signInWithGoogle}>\n        Sign in with Google\n      </button>\n    </>\n  );\n}\n\nfunction SignOut() {\n  return (\n    auth.currentUser && (\n      <button className=\"sign\" onClick={() => auth.signOut()}>\n        Sign Out\n      </button>\n    )\n  );\n}\n\nfunction Alarm() {\n  const dummy = useRef();\n  const { uid, displayName } = auth.currentUser;\n  const alarmRef = firestore.collection(\"alarm\");\n  const query = alarmRef.orderBy(\"detail\");\n  const [alarm] = useCollectionData(query, { idField: \"id\" });\n  const [alarmValue, setAlarmValue] = useState(\"00:00:00 AM\");\n  var details = [];\n\n  function asd() {\n    alarmRef\n      .get()\n      .then((snapshot) => {\n        snapshot.forEach((doc) => {\n          details.push(doc.data().detail);\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error getting documents\", err);\n      });\n  }\n  asd();\n\n  const sendAlarm = async (e) => {\n    e.preventDefault();\n    if (!details.includes(alarmValue)) {\n      await alarmRef.add({\n        detail: alarmValue,\n        displayName,\n        uid,\n      });\n      dummy.current.scrollIntoView({ behavior: \"smooth\" });\n    } else {\n      return;\n    }\n  };\n\n  const stopAlarm = (e) => {\n    e.preventDefault();\n    document.querySelector(\".Sound\").pause();\n    document.querySelector(\".Sound\").currentTime = 0;\n  };\n\n  const setAlarm = () => {\n    var h = document.querySelector(\".hours\").value;\n    var m = document.querySelector(\".minutes\").value;\n    var ap = document.querySelector(\".ampm\").value;\n    var hmap = `${h}:${m}:00 ${ap}`;\n    setAlarmValue(hmap);\n  };\n\n  return (\n    <>\n      <form className=\"sectionInput\">\n        <div className=\"alrView\">\n          {alarm &&\n            alarm.map((alr) => (\n              <div>\n                <AlarmView key={alr.id} alarm={alr} />\n              </div>\n            ))}\n          <span ref={dummy}></span>\n        </div>\n\n        <div>\n          <select className=\"hours\" onChange={setAlarm}>\n            <option>00</option>\n            <option>1</option>\n            <option>2</option>\n            <option>3</option>\n            <option>4</option>\n            <option>5</option>\n            <option>6</option>\n            <option>7</option>\n            <option>8</option>\n            <option>9</option>\n            <option>10</option>\n            <option>11</option>\n            <option>12</option>\n          </select>\n          <select className=\"minutes\" onChange={setAlarm}>\n            <option>00</option>\n            <option>01</option>\n            <option>02</option>\n            <option>03</option>\n            <option>04</option>\n            <option>05</option>\n            <option>06</option>\n            <option>07</option>\n            <option>08</option>\n            <option>09</option>\n            <option>10</option>\n            <option>11</option>\n            <option>12</option>\n            <option>13</option>\n            <option>14</option>\n            <option>15</option>\n            <option>16</option>\n            <option>17</option>\n            <option>18</option>\n            <option>19</option>\n            <option>20</option>\n            <option>21</option>\n            <option>22</option>\n            <option>23</option>\n            <option>24</option>\n            <option>25</option>\n            <option>26</option>\n            <option>27</option>\n            <option>28</option>\n            <option>29</option>\n            <option>30</option>\n            <option>31</option>\n            <option>32</option>\n            <option>33</option>\n            <option>34</option>\n            <option>35</option>\n            <option>36</option>\n            <option>37</option>\n            <option>38</option>\n            <option>39</option>\n            <option>40</option>\n            <option>41</option>\n            <option>42</option>\n            <option>43</option>\n            <option>44</option>\n            <option>45</option>\n            <option>46</option>\n            <option>47</option>\n            <option>48</option>\n            <option>49</option>\n            <option>50</option>\n            <option>51</option>\n            <option>52</option>\n            <option>53</option>\n            <option>54</option>\n            <option>55</option>\n            <option>56</option>\n            <option>57</option>\n            <option>58</option>\n            <option>59</option>\n          </select>\n          <select className=\"ampm\" onChange={setAlarm}>\n            <option>AM</option>\n            <option>PM</option>\n          </select>\n          <button className=\"submitTime\" type=\"submit\" onClick={sendAlarm}>\n            Set Alarm\n          </button>\n          <button className=\"stop\" onClick={stopAlarm}>\n            Stop\n          </button>\n        </div>\n      </form>\n    </>\n  );\n}\n\nfunction AlarmView(props) {\n  const { detail, uid } = props.alarm;\n  const [timeNow, setTimeNow] = useState();\n  let user = firebase.auth().currentUser;\n\n  const delAlarm = async (e) => {\n    e.preventDefault();\n\n    firestore.collection(\"alarm\").doc(props.alarm.id).delete();\n  };\n\n  const UpdateTime = () => {\n    let time = new Date().toLocaleTimeString();\n    setTimeNow(time);\n  };\n\n  setInterval(UpdateTime, 1000);\n\n  useEffect(() => {\n    if (detail === timeNow && user.uid === uid) {\n      document.querySelector(\".Sound\").play();\n    }\n  }, [UpdateTime]);\n  if (user.uid === uid) {\n    return (\n      <>\n        <div className=\"timeAlarmBox\">\n          <h1>{detail}</h1>\n          <h1 onClick={delAlarm} className=\"delAlarm\">\n            ‚ùå\n          </h1>\n        </div>\n        <div className=\"playback\">\n          <audio className=\"Sound\">\n            <source src={Sound} type=\"audio/mp3\" />\n          </audio>\n        </div>\n      </>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default App;\n","C:\\Users\\asus\\Desktop\\React\\clock\\src\\component\\loader.js",[],"C:\\Users\\asus\\Desktop\\React\\clock\\src\\component\\clock.js",[],["28","29"],{"ruleId":"30","replacedBy":"31"},{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","severity":1,"message":"35","line":280,"column":6,"nodeType":"36","endLine":280,"endColumn":18,"suggestions":"37"},{"ruleId":"30","replacedBy":"38"},{"ruleId":"32","replacedBy":"39"},"no-native-reassign",["40"],"no-negated-in-lhs",["41"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'detail', 'timeNow', 'uid', and 'user.uid'. Either include them or remove the dependency array.","ArrayExpression",["42"],["40"],["41"],"no-global-assign","no-unsafe-negation",{"desc":"43","fix":"44"},"Update the dependencies array to be: [UpdateTime, detail, timeNow, uid, user.uid]",{"range":"45","text":"46"},[7299,7311],"[UpdateTime, detail, timeNow, uid, user.uid]"]